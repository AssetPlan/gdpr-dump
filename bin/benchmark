#!/usr/bin/env php
<?php
// Initialize autoload
require dirname(__DIR__) . '/vendor/autoload.php';

$faker = Faker\Factory::create();
$benchmarks = [10000, 100000, 1000000, 10000000];

foreach ($benchmarks as $count) {
    $start = microtime(true);
    for ($i = 0; $i < $count; $i++) {
        $value = 'anonymous_user_' . ($i + 1);
    }
    echo "[$count] Manually: ", microtime(true) - $start, PHP_EOL;

    $start = microtime(true);
    for ($i = 0; $i < $count; $i++) {
        $value = $faker->userName . '_' . ($i + 1);
    }
    echo "[$count] Faker - random username: ", microtime(true) - $start, PHP_EOL;

    $start = microtime(true);
    for ($i = 0; $i < $count; $i++) {
        $value = $faker->unique()->userName;
    }
    echo "[$count] Faker - unique username: ", microtime(true) - $start, PHP_EOL;
}
